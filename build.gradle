group = 'org.artfable'
version = '1.0-SNAPSHOT'

apply plugin: 'java'

jar {
    manifest {
        attributes 'Main-Class': 'org.artfable.revolut.test.task.ApplicationInitializer'
    }

    from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    }
}

sourceCompatibility = 1.8

repositories {
    jcenter()
}

dependencies {
    compile "org.slf4j:slf4j-log4j12:1.7.25"

    // replacement for Spring
    compile "com.sparkjava:spark-core:2.7.2" // rest
    compile "org.reflections:reflections:0.9.11"
    compile "com.google.inject:guice:4.2.0" // DI

    // json
    compile "com.fasterxml.jackson.core:jackson-databind:2.9.6"

    // db
    compile "com.h2database:h2:1.4.197"
    compile("org.liquibase:liquibase-core:3.6.2") {
        exclude group: "org.slf4j", module: "slf4j-api"
        exclude group: "ch.qos.logback", module: "logback-classic"
    }
    compile "org.hibernate:hibernate-core:5.3.4.Final"

    testCompile group: 'junit', name: 'junit', version: '4.12'
    testCompile "com.despegar:spark-test:1.1.8"
    testCompile "org.mockito:mockito-all:1.10.19"
}